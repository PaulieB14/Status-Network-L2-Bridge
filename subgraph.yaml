specVersion: 1.3.0
description: "Comprehensive subgraph for Status Network L2 Bridge operations, messaging service, faucet distributions, and proxy contract monitoring. Tracks bridge initiations/finalizations, L2â†”L1 message passing, token deployments, and contract upgrades with detailed analytics."
indexerHints:
  prune: auto
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: L2TokenBridgeProxy
    network: status-sepolia
    source:
      address: "0xbC7f9571152a8e21942b2aEa4831a27f1149af19"
      abi: TransparentUpgradeableProxy
      startBlock: 25
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - ProxyUpgraded
        - AdminChanged
      abis:
        - name: TransparentUpgradeableProxy
          file: ./abis/TransparentUpgradeableProxy.json
      eventHandlers:
        - event: Upgraded(indexed address)
          handler: handleTokenBridgeUpgraded
        - event: AdminChanged(address,address)
          handler: handleTokenBridgeAdminChanged
      file: ./src/l2-token-bridge-proxy.ts
  - kind: ethereum
    name: L2TokenBridgeImplementation
    network: status-sepolia
    source:
      address: "0xbC7f9571152a8e21942b2aEa4831a27f1149af19"
      abi: L2TokenBridge
      startBlock: 25
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - BridgingInitiatedV2
        - BridgingFinalizedV2
        - NewTokenDeployed
        - DailyBridgeStats
        - HourlyBridgeStats
      abis:
        - name: L2TokenBridge
          file: ./abis/L2TokenBridge.json
      eventHandlers:
        - event: BridgingInitiatedV2(indexed address,indexed address,indexed address,uint256)
          handler: handleBridgingInitiatedV2
        - event: BridgingFinalizedV2(indexed address,indexed address,uint256,indexed address)
          handler: handleBridgingFinalizedV2
        - event: NewTokenDeployed(indexed address,indexed address)
          handler: handleNewTokenDeployed
      file: ./src/l2-token-bridge-implementation.ts
  - kind: ethereum
    name: L2MessageServiceImplementation
    network: status-sepolia
    source:
      address: "0xe74Bd8db0440533F8915042D980AbAA86085821c"
      abi: L2MessageService
      startBlock: 25
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - MessageSent
        - MessageClaimed
        - RollingHashUpdated
        - L1L2MessageHashesAddedToInbox
        - DailyMessageStats
        - HourlyMessageStats
      abis:
        - name: L2MessageService
          file: ./abis/L2MessageService.json
      eventHandlers:
        - event: MessageSent(indexed address,indexed address,uint256,uint256,uint256,bytes,indexed bytes32)
          handler: handleMessageSent
        - event: MessageClaimed(indexed bytes32)
          handler: handleMessageClaimed
        - event: RollingHashUpdated(indexed uint256,indexed bytes32)
          handler: handleRollingHashUpdated
        - event: L1L2MessageHashesAddedToInbox(bytes32[])
          handler: handleL1L2MessageHashesAddedToInbox
      file: ./src/l2-message-service.ts
  - kind: ethereum
    name: L2MessageServiceProxy
    network: status-sepolia
    source:
      address: "0xe74Bd8db0440533F8915042D980AbAA86085821c"
      abi: TransparentUpgradeableProxy
      startBlock: 25
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - ProxyUpgraded
        - AdminChanged
      abis:
        - name: TransparentUpgradeableProxy
          file: ./abis/TransparentUpgradeableProxy.json
      eventHandlers:
        - event: Upgraded(indexed address)
          handler: handleMessageServiceUpgraded
        - event: AdminChanged(address,address)
          handler: handleMessageServiceAdminChanged
      file: ./src/l2-message-service-proxy.ts
  - kind: ethereum
    name: L2Faucet
    network: status-sepolia
    source:
      address: "0x06338B70F1eAbc60d7A82C083e605C07F78bb878"
      abi: L2Faucet
      startBlock: 25
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.9
      language: wasm/assemblyscript
      entities:
        - TokensDistributed
        - NativeTokensDistributed
        - DailyFaucetStats
        - HourlyFaucetStats
      abis:
        - name: L2Faucet
          file: ./abis/L2Faucet.json
      eventHandlers:
        - event: TokensDistributed(indexed address,indexed address,uint256)
          handler: handleTokensDistributed
        - event: NativeTokensDistributed(indexed address,uint256)
          handler: handleNativeTokensDistributed
      file: ./src/l2-faucet.ts
